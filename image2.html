<script src="https://unpkg.com/fxjs/dist/fx.js"></script>

<script>
const $ = {};

$.qs = document.querySelector.bind(document);

$.el = html => {
  const wrap = document.createElement('div');
  wrap.innerHTML = html;
  return wrap.children[0];
}


$.append = (parent, child) => parent.appendChild(child);
</script>

<script>
const {L,C} = window._;

const a = 10;
const b = 5;
console.log(`${a} + ${b} = ${a+b}`);


//이미지 처리

const Images = {}; //대문자는 클래스. 네임스페이스의 시작하는 부분.
Images.fetch = () => new Promise(resolve=> setTimeout(()=>resolve([
  { name:"HEART", url: "https://s3.marpple.co/files/m2/t3/colored_images/45_1115570_1162087_150x0.png"},
  { name:"하트", url: "https://s3.marpple.co/files/m2/t3/colored_images/45_1115570_1162087_150x0.png"},
  { name:"HEART", url: "https://s3.marpple.co/files/m2/t3/colored_images/45_1115570_1162087_150x0.png"},
  { name:"하트", url: "https://s3.marpple.co/files/m2/t3/colored_images/45_1115570_1162087_150x0.png"},
  { name:"HEART", url: "https://s3.marpple.co/files/m2/t3/colored_images/45_1115570_1162087_150x0.png"},
  { name:"하트", url: "https://s3.marpple.co/files/m2/t3/colored_images/45_1115570_1162087_150x0.png"},
]), 200));


const string = iter => _.reduce((a,b) => `${a}${b}`, iter);

_.strMap = _.curry(_.pipe(L.map, string));

//함수형 프로그래밍에서 간소화된 표현은 변수일 가능성이 높다.
Images.tmpl = imgs => ` 
  <div class="images">
    ${_.strMap(img =>`
      <div class="image">
        <div class="box"><img src="${img.url}" alt =""></div>
        <div class="name">${img.name}</div>
      </div>
    ` ,imgs)}
  </div>
`;

_.go(
  Images.fetch(),
  Images.tmpl,
  $.el,
  el => $.append($.qs('body'), el),
  console.log
);


</script>